# Контрольные вопросы к Практической работе №8: Разработка гибридного приложения для CPU и GPU

## 1. Какие преимущества предоставляют гибридные вычисления?
Гибридные вычисления — это подход, при котором часть задач выполняется на CPU, а часть — на GPU. Основные преимущества:
* **Повышение производительности**: можно одновременно использовать ресурсы CPU и GPU, ускоряя обработку больших массивов данных.
* **Эффективное распределение нагрузки**: CPU берёт на себя последовательные и управляющие задачи, GPU — параллельные однотипные операции.
* **Масштабируемость**: легко обрабатывать большие объемы данных за счет распараллеливания на GPU и многопоточности на CPU.
* **Гибкость**: позволяет адаптировать алгоритмы под доступное оборудование (например, если GPU занято или ограничено по ресурсам, часть работы остаётся на CPU).

## 2. Как минимизировать накладные расходы при передаче данных между CPU и GPU?
Передача данных через шину PCI Express может быть узким местом, поэтому важно:
* **Копировать данные порциями, а не поэлементно**: один крупный массив эффективнее, чем множество мелких операций `cudaMemcpy`.
* **Использовать асинхронные копирования и CUDA streams**: позволяет GPU одновременно обрабатывать данные и получать новые порции без простаивания.
* **Сокращать количество копирований**: передавать данные на GPU только один раз, выполнять все вычисления там, а затем возвращать результат.
* **Объединять вычисления на GPU**: например, вместо нескольких отдельных операций сделать одну цепочку кернелов, чтобы не переносить промежуточные данные.

## 3. Какие задачи лучше выполнять на CPU, а какие — на GPU?
* **CPU:**
  * Последовательные задачи.
  * Задачи с сильной ветвистостью (if/else), где параллельное выполнение сложно.
  * Управляющие и I/O операции (чтение/запись, контроль потоков).

* **GPU:**
  * Однотипные и параллельные операции на больших массивах данных.
  * Векторные и матричные вычисления.
  * Научные расчёты, обработка изображений, фильтры, нейросети.

* **Гибридный режим:**
  * Большие задачи, которые можно эффективно разделить, например: первая половина массива на CPU, вторая — на GPU.

## 4. Как можно улучшить производительность гибридного приложения?
* **Оптимизация передачи данных**: минимизировать копирование между CPU и GPU, использовать асинхронные операции.
* **Балансировка нагрузки**: правильно делить массив между CPU и GPU, чтобы оба ресурса работали одновременно и не простаивали.
* **Оптимизация параллельных алгоритмов**: на CPU использовать OpenMP для многопоточности; на GPU — правильное число блоков и потоков, использование shared memory.
* **Сведение накладных расходов к минимуму**: объединять вычисления в один кернел на GPU, уменьшать синхронизации.
* **Профилирование и тестирование**: использовать инструменты (`nvprof`, `Nsight`, OpenMP timers) для анализа узких мест и их устранения.
